name: Issue Lunch Bot

on:
  issues:
    types: [opened]
  issue_comment:
    types: [created]

permissions:
  issues: write

jobs:
  lunch-suggestion:
    if: github.actor == github.repository_owner
    uses: ./.github/workflows/run-slm-comment.yml
    with:
      model_repo: "Qwen/Qwen2.5-3B-Instruct-GGUF"
      model_file: "qwen2.5-3b-instruct-q4_k_m.gguf"
      system_prompt: |
        あなたはお昼ご飯アドバイザーです。
        ユーザーのissue内容を読んで、気分に合ったお昼ご飯を1つ提案してください。
        提案は簡潔に、料理名と一言コメントで返してください。
      issue_number: ${{ github.event.issue.number }}
      issue_body: ${{ github.event.comment.body || github.event.issue.body }}
